<!--=====================================
Nav Account
======================================--> 

<div class="ps-section__content">

     <ul class="ps-section__links">
        <li><a href="/account">My Wishlist</a></li>
        <li><a href="/account/my-shopping">My Shopping</a></li>
        <li><a href="/account/my-store">My Store</a></li>
        <li><a href="account/my-sales">My Sales</a></li>
    </ul>

	<div class="table-responsive mt-4">

		<table class="table ps-table--whishlist dt-responsive" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" width="100%">

	        <thead>

	            <tr>   

	            	<th>Message Id</th> 

	            	<th>Url Product</th>        

	           		<th>Date Message</th>

	                <th>Transmitter</th>

	                <th>Receiver</th>

	                <th>Message</th>

	                <th>Date Answer</th>

	                <th>Answer</th>

	            </tr>

	        </thead>

	   <tbody>

	            <tr
	            *ngIf="messages.length == 0">
	            
	                <td colspan="8" class="text-center">You haven't messages!</td> 

	            </tr>

	            <tr
	            *ngFor="let message of messages; let i = index;"
	            >
	            	<td>
	            	{{idMessage[i]}}

	            		<div class="text-center"
	            		*ngIf="message.answer == null"> 
	                    	<button type="button" class="btn btn-danger mt-2" (click)="answerMessage(idMessage[i])">Answer message</button> 
	                    </div>    

	            	</td>

		            <td>
		            	{{message.url_product}}
		            </td>

		    		<td>
		            	{{message.date_message | date}}
		            </td>

		            <td>
		            	{{message.transmitter}}
		            </td>

		            <td>
		            	{{message.receiver}}
		            </td>

		            <td>
		            	{{message.message}}
		            </td>

		            <td>
		            	{{message.date_answer | date}}
		            </td>

		            <td>
		            	{{message.answer}}
		            </td>

	      
	        	</tr>

	        </tbody>

	    </table>

	</div>

	<!--=====================================
	Modal para las mensajes
	======================================--> 

	<!-- The Modal -->
	<div class="modal" id="answerMessage">
	    <div class="modal-dialog">
	        <div class="modal-content">

	            <form
	            (ngSubmit)="onSubmit(f)"
	            #f="ngForm">

	                <!-- Modal Header -->
	                <div class="modal-header">
	                    <h4 class="modal-title">Answer Message</h4>
	                    <button type="button" class="close" data-dismiss="modal">&times;</button>
	                </div>

	                <!-- Modal body -->
	                <div class="modal-body">

	                    <div class="form-group">

	                        <label>Type your answer</label>

	                        <div class="form-group__content">

	                            <textarea 
	                            class="form-control" 
	                            type="text"
	                            name="answer"
	                            [(ngModel)]="message.answer"
	                            required></textarea>

	                        </div>

	                    </div>

	                </div>

	                <!-- Modal footer -->
	                <div class="modal-footer">

	                    <div class="float-right">
	                        <button type="submit" class="btn btn-warning btn-lg">Send</button>
	                    </div>
	                   
	                </div>

	            </form>

	        </div>
	    </div>
	</div>

</div>
